<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Central Landscaping - Content Manager</title>
    
    <!-- Include the script that enables Netlify Identity on this page. -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <style>
      /* Fix for cursor jumping issue in Chrome */
      div[data-slate-editor] {
        -webkit-user-modify: read-write !important;
      }
      
      /* Make the editor more user-friendly */
      .nc-entryEditor-contentCard {
        padding: 20px !important;
      }
      
      /* Better visual styling for the rich text editor */
      .ProseMirror {
        min-height: 300px !important;
        padding: 16px !important;
      }
      
      /* Required field styling */
      .labelWithError {
        color: #e25e5e !important;
      }
    </style>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@^2.10.192/dist/netlify-cms.js"></script>
    
    <script>
      // Wait for CMS to initialize
      window.addEventListener('load', function() {
        if (window.netlifyIdentity) {
          window.netlifyIdentity.on("init", user => {
            if (!user) {
              window.netlifyIdentity.on("login", () => {
                document.location.href = "/admin/";
              });
            }
          });
        }
        
        // Simple helper to improve editor experience
        setTimeout(function() {
          // Make the "required" text more noticeable
          const requiredLabels = document.querySelectorAll('[class*="FieldLabel-required"]');
          if (requiredLabels) {
            requiredLabels.forEach(label => {
              label.style.color = '#e25e5e';
              label.style.fontWeight = 'bold';
            });
          }
          
          // Add helper text above the body editor
          const bodyField = document.querySelector('[id*="editor-body-"]');
          if (bodyField) {
            const helpText = document.createElement('div');
            helpText.style.padding = '8px';
            helpText.style.marginBottom = '10px';
            helpText.style.backgroundColor = '#f8f9fa';
            helpText.style.borderLeft = '4px solid #4a8553';
            helpText.style.color = '#333';
            helpText.style.fontSize = '14px';
            helpText.innerHTML = '✏️ Use the toolbar to format your text. This field is required.';
            
            if (bodyField.parentNode) {
              bodyField.parentNode.insertBefore(helpText, bodyField);
            }
          }
        }, 1000);
      });
    </script>
  </body>
</html> 